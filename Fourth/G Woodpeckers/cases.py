cases = [
    (
        (3, 2, 10,
         [
            (1, 2),
            (1, 3)
          ]),
        4
    ),

    (
        (4, 4, 17,
         [
             (1, 2),
             (1, 3),
             (4, 2),
             (3, 4),
         ]),
        0
    ),

    (
        (4, 2, 13,
         [
             (1, 2),
             (2, 3)
         ]),
        7
    ),

    (
        (4, 3, 13,
         [
             (1, 2),
             (2, 3),
             (1, 4),
         ]),
        4
    ),

    (
        (6, 3, 1000,
         [
             (2, 4),
             (4, 3),
             (6, 5),
         ]),
        112
    ),

    (
        (6, 4, 1000,
         [
             (1, 2),
             (1, 3),
             (4, 5),
             (4, 6),
         ]),
        32
    ),

    (
        (7, 1, 11,
         [
             (3, 7),
         ]),
        9
    ),

    (
        (16, 8, 37,
         [
             (1, 9),
             (1, 6),
             (5, 6),
             (8, 7),
             (11, 2),
             (8, 16),
             (11, 10),
             (11, 14),
         ]),
        35
    ),

    (
        (35, 31, 75011,
         [
             (1, 2),
             (2, 3),
             (6, 7),
             (6, 5),
             (5, 4),
             (4, 3),
             (8, 9),
             (8, 10),
             (8, 11),
             (8, 12),
             (8, 13),
             (8, 14),
             (8, 15),
             (8, 16),
             (8, 17),
             (8, 19),
             (8, 20),
             (8, 21),
             (8, 22),
             (8, 23),
             (8, 24),
             (8, 25),
             (8, 26),
             (8, 27),
             (8, 29),
             (8, 30),
             (30, 31),
             (31, 32),
             (32, 33),
             (34, 35),
             (31, 34),
         ]),
        0
    ),

    (
        (12, 11, 77023,
         [
             (1, 10),
             (10, 11),
             (11, 9),
             (9, 8),
             (11, 12),
             (12, 6),
             (6, 7),
             (6, 5),
             (5, 4),
             (4, 3),
             (4, 2),
         ]),
        0
    ),

    (
        (14, 11, 88661,
         [
             (1, 2),
             (2, 14),
             (3, 14),
             (4, 14),
             (5, 14),
             (6, 14),
             (7, 14),
             (8, 14),
             (9, 14),
             (10, 14),
             (11, 14),
         ]),
        2682
    ),
]

stress_case = (
        (1_000_000, 999_999, 1,
         [(i, i + 1) for i in range(1, 1_000_000)]),
        0
    )
